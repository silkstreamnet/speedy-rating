(function(d){function j(a,d){if(a&&a.length&&d&&1<=d&&5>=d){for(var b=1;b<=d;b++)a.find('.speedy-rating-star[data-rating="'+b+'"]').addClass("speedy-rating-star-on");for(b=5;b>d;b--)a.find('.speedy-rating-star[data-rating="'+b+'"]').removeClass("speedy-rating-star-on")}}function l(a,f){if(a&&a.length&&f){var b=!1;a.find("option").each(function(){if(!1===b){var a=d(this),e=a.attr("value"),c=a.text();e&&e==f?b=a:c&&c==f&&(b=a)}});return b}return!1}var k={html:""},f=[];d.fn.SpeedyRating=function(a){var a=a||{},m=d.extend({},k,a),a=d(this);0<a.length&&a.each(function(){var b=d(this),a=d.extend({},m),e;for(e in k)if(k.hasOwnProperty(e)){var c;c="data-"+e.toLowerCase();c=b.attr(c);(c="undefined"==typeof c?"":c)&&(a[e]=c)}var g;a.elid=f.length;f.push({originobject:b,settings:a,object:!1,setrating:0});g=a.elid;e=!1;c='<div class="speedy-rating" data-elid="'+g+'">';for(var i=1;5>=i;i++)if(l(b,i).length)c+='<div class="speedy-rating-star speedy-rating-star-'+i+'" data-rating="'+i+'">'+a.html+"</div>";else{e=!0;break}if(!e){b.after(c+"</div>").hide();var h=d('.speedy-rating[data-elid="'+g+'"]');if(h.length){h.find(".speedy-rating-star").on("mouseover",function(){var a=d(this);(a=parseInt(a.attr("data-rating")))&&(5>=a&&1<=a)&&j(h,a)}).on("click",function(){var a=d(this);if(a=parseInt(a.attr("data-rating"))){var c=l(b,a);c&&c.length&&(f[g].setrating=a,b.find("option").attr("selected",!1),c.attr("selected",!0),b.change())}});h.on("mouseout",function(){var a=d(this),b=f[g].setrating;1<=b&&5>=b?j(a,b):a.find(".speedy-rating-star").removeClass("speedy-rating-star-on")});if((a=b.val())&&1<=a&&5>=a)j(h,a),f[g].setrating=a;f[g].object=h}}})};d("select.speedy-rating").SpeedyRating()})(jQuery);