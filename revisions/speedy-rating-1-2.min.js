(function(c){function k(c,g,f){if(c&&g&&g.length&&f&&1<=f&&5>=f){for(var b=1;b<=f;b++)g.find('.speedy-rating-star[data-rating="'+b+'"]').addClass("speedy-rating-star-on").html(c.html_on);for(b=5;b>f;b--)g.find('.speedy-rating-star[data-rating="'+b+'"]').removeClass("speedy-rating-star-on").html(c.html_off)}}var l={html_on:"",html_off:""},g=[];c.fn.SpeedyRating=function(e){var e=e||{},m=c.extend({},l,e),e=c(this);0<e.length&&e.each(function(){var f=c(this),b=c.extend({},m),d;for(d in l)if(l.hasOwnProperty(d)){var h;h="data-"+d.toLowerCase();h=f.attr(h);(h="undefined"==typeof h?"":h)&&(b[d]=h)}var j;b.elid=g.length;g.push({originobject:f,settings:b,object:!1,setrating:0});j=b.elid;d='<div class="speedy-rating" data-elid="'+j+'">';for(h=1;5>=h;h++)d+='<div class="speedy-rating-star speedy-rating-star-'+h+'" data-rating="'+h+'">'+b.html_off+"</div>";f.after(d+"</div>").hide();var i=c('.speedy-rating[data-elid="'+j+'"]'),e=!1;if(i.length){i.on("mouseleave",function(){var a=g[j].setrating;1<=a&&5>=a?k(b,i,a):i.find(".speedy-rating-star").removeClass("speedy-rating-star-on").html(b.html_off);e=!1});i.find(".speedy-rating-star").on("mouseenter",function(){if(e!=this){e=this;var a=c(this);(a=parseInt(a.attr("data-rating")))&&(5>=a&&1<=a)&&k(b,i,a)}return!1}).on("mousedown touchstart",function(){var a=c(this);if(a=parseInt(a.attr("data-rating")))g[j].setrating=a,f.val(a);e=this;return!1}).on("mouseup touchend",function(){if(e==this){var a=c(this);if(a=parseInt(a.attr("data-rating")))g[j].setrating=a,f.val(a),i.trigger("mouseleave")}return!1});if((d=f.val())&&1<=d&&5>=d)k(b,i,d),g[j].setrating=d;g[j].object=i}})};c("select.speedy-rating").SpeedyRating()})(jQuery);